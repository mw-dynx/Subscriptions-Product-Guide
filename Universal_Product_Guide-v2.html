<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DigitalStack Digest v2</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        /* Custom scrollbar for modal */
        .modal-scroll::-webkit-scrollbar { width: 8px; }
        .modal-scroll::-webkit-scrollbar-track { background: #1f2937; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- MOCK DATA ---
        const APPS = [
            { id: 1, name: "FusionFlow", category: "Project Management", description: "Streamlined task management and collaboration platform for remote teams.", fullDetail: "FusionFlow offers a unique approach to Kanban boards, integrating real-time chat and file sharing directly into task cards. Perfect for agile teams looking to reduce context switching.", tags: ["Productivity", "SaaS", "Teamwork"], link: "#" },
            { id: 2, name: "VectorSculpt", category: "Design", description: "The ultimate vector editing tool with real-time collaborative features.", fullDetail: "Forget sharing heavy files. VectorSculpt runs entirely in the browser using WebAssembly, allowing for desktop-class performance with multiplayer editing capabilities.", tags: ["Graphics", "Creative", "Cloud"], link: "#" },
            { id: 3, name: "CodeForge", category: "Development", description: "AI-powered environment for rapid prototyping and deployment.", fullDetail: "CodeForge analyzes your codebase to suggest architectural improvements and security patches before you even commit.", tags: ["AI", "DevOps", "Testing"], link: "#" },
            { id: 4, name: "GrowthPulse", category: "Marketing", description: "Automated campaign tracking and performance analysis dashboard.", fullDetail: "Connects to over 50 ad platforms to give you a single source of truth for your ROAS.", tags: ["Analytics", "CRM", "Automation"], link: "#" },
            { id: 5, name: "LedgerZen", category: "Finance", description: "Simple, compliant bookkeeping for freelancers and small businesses.", fullDetail: "Automatically categorizes expenses and prepares tax forms based on your jurisdiction.", tags: ["Finance", "Accounting", "Compliance"], link: "#" },
        ];

        const NEWS = [
            { id: 101, title: "The Rise of Micro-SaaS", date: "2024-10-01", summary: "A look into how specialized software tools are capturing market share from giants.", fullDetail: "We explore the economics of Micro-SaaS and interview 10 founders who quit their day jobs to build niche tools.", tags: ["Industry Trends", "SaaS", "Market"], link: "#" },
            { id: 102, title: "VectorSculpt Update", date: "2024-09-28", summary: "Designers rejoice as a long-awaited feature goes live, changing workflows.", fullDetail: "The new 3D extrusion tool allows 2D designers to create depth without learning complex modeling software.", tags: ["Design", "Update", "Creative"], link: "#" },
        ];

        const STORIES = [
            { id: 201, creator: "Alex Chen", tool: "FusionFlow", title: "7 Figures in 12 Months", insight: "Alex shares the exact workflow and minimal toolset that powered his rapid growth.", fullDetail: "Starting with just a laptop and an idea, Alex used FusionFlow to manage a team of 15 freelancers across 4 time zones.", tags: ["Success Story", "Productivity", "Workflow"], link: "#" },
            { id: 202, creator: "Maria Diaz", tool: "VectorSculpt", title: "5 Clients via Open Source", insight: "A breakdown of creative strategy and leveraging community platforms.", fullDetail: "Maria released her icon set for free, using it as a lead magnet to upsell premium design services.", tags: ["Freelance", "Creative", "Marketing"], link: "#" },
        ];

        // --- COMPONENTS ---

        // Modal Component
        const Modal = ({ item, onClose }) => {
            if (!item) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm" onClick={onClose}>
                    <div className="bg-gray-800 border border-gray-700 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-fade-in" onClick={e => e.stopPropagation()}>
                        <div className="p-6 border-b border-gray-700 flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-white">{item.name || item.title}</h2>
                            <button onClick={onClose} className="text-gray-400 hover:text-white transition">&times;</button>
                        </div>
                        <div className="p-6 modal-scroll max-h-[60vh] overflow-y-auto">
                            <p className="text-gray-300 text-lg leading-relaxed mb-4">{item.description || item.summary || item.insight}</p>
                            <div className="bg-gray-900 p-4 rounded-lg border border-gray-700">
                                <h4 className="text-sm font-semibold text-gray-500 uppercase mb-2">Detailed Insight</h4>
                                <p className="text-gray-300">{item.fullDetail || "Full content locked for subscribers."}</p>
                            </div>
                        </div>
                        <div className="p-6 border-t border-gray-700 flex justify-end">
                            <button onClick={onClose} className="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mr-2 transition">Close</button>
                            <button className="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition font-semibold">Visit Resource</button>
                        </div>
                    </div>
                </div>
            );
        };

        const TagBadge = ({ tag, onSelect, isSelected }) => (
            <button 
                onClick={(e) => { e.stopPropagation(); onSelect(tag); }}
                className={`inline-block text-xs font-medium px-3 py-1 rounded-full mr-2 mb-2 transition duration-200 border 
                ${isSelected 
                    ? 'bg-indigo-500 text-white border-indigo-500' 
                    : 'bg-gray-800 text-indigo-200 border-indigo-900/50 hover:border-indigo-500 hover:bg-gray-700'}`}
            >
                #{tag}
            </button>
        );

        const Newsletter = () => (
            <section className="mt-16 bg-gradient-to-r from-indigo-900 to-purple-900 rounded-2xl p-8 text-center relative overflow-hidden">
                <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                <div className="relative z-10">
                    <h2 className="text-3xl font-bold text-white mb-2">Join the Inner Circle</h2>
                    <p className="text-indigo-200 mb-6 max-w-lg mx-auto">Get the best tools, news, and success stories delivered to your inbox every Tuesday.</p>
                    <div className="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
                        <input type="email" placeholder="you@example.com" className="flex-1 px-4 py-3 rounded-lg bg-white/10 border border-indigo-400/30 text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-white/50" />
                        <button className="bg-white text-indigo-900 px-6 py-3 rounded-lg font-bold hover:bg-indigo-50 transition shadow-lg">Subscribe</button>
                    </div>
                </div>
            </section>
        );

        const App = () => {
            const [activeTab, setActiveTab] = useState('apps');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedTag, setSelectedTag] = useState(null);
            const [modalItem, setModalItem] = useState(null);

            const allContent = useMemo(() => [
                ...APPS.map(item => ({ ...item, type: 'app' })),
                ...NEWS.map(item => ({ ...item, type: 'news' })),
                ...STORIES.map(item => ({ ...item, type: 'story' })),
            ], []);

            const filteredContent = useMemo(() => {
                let filtered = allContent;

                // 1. Tab Filter
                filtered = filtered.filter(item => {
                    if (activeTab === 'apps' && item.type === 'app') return true;
                    if (activeTab === 'news' && item.type === 'news') return true;
                    if (activeTab === 'stories' && item.type === 'story') return true;
                    return false;
                });

                // 2. Search Filter
                if (searchTerm) {
                    const lowerSearch = searchTerm.toLowerCase();
                    filtered = filtered.filter(item => {
                        const text = [item.name, item.title, item.description, item.summary, item.insight, ...item.tags].join(' ').toLowerCase();
                        return text.includes(lowerSearch);
                    });
                }

                // 3. Tag Filter
                if (selectedTag) {
                    filtered = filtered.filter(item => item.tags.includes(selectedTag));
                }

                return filtered;
            }, [activeTab, searchTerm, selectedTag, allContent]);

            const clearFilters = () => {
                setSearchTerm('');
                setSelectedTag(null);
            };

            const Card = ({ item }) => (
                <div className="bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-700 hover:border-indigo-500 transition duration-300 flex flex-col h-full group">
                    <div className="flex-1">
                        <div className="flex justify-between items-start mb-2">
                            <span className={`text-xs font-bold px-2 py-1 rounded uppercase tracking-wide
                                ${item.type === 'app' ? 'bg-blue-900/50 text-blue-300' : 
                                  item.type === 'news' ? 'bg-purple-900/50 text-purple-300' : 'bg-pink-900/50 text-pink-300'}`}>
                                {item.type}
                            </span>
                        </div>
                        <h3 className="text-xl font-bold text-white mb-2 group-hover:text-indigo-400 transition-colors">{item.name || item.title}</h3>
                        <p className="text-gray-400 mb-4 text-sm line-clamp-3">{item.description || item.summary || item.insight}</p>
                        <div className="flex flex-wrap mb-4">
                            {item.tags.map(tag => (
                                <TagBadge key={tag} tag={tag} onSelect={setSelectedTag} isSelected={selectedTag === tag} />
                            ))}
                        </div>
                    </div>
                    <button 
                        onClick={() => setModalItem(item)}
                        className="w-full mt-4 text-center bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg font-medium transition duration-200">
                        View Details
                    </button>
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-900 font-sans text-gray-100 p-4 md:p-8">
                    
                    {/* MODAL */}
                    {modalItem && <Modal item={modalItem} onClose={() => setModalItem(null)} />}

                    <header className="max-w-6xl mx-auto py-8 mb-8 border-b border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4">
                        <div>
                            <h1 className="text-3xl font-extrabold text-white tracking-tight">
                                <span className="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400">DigitalStack</span> Digest
                            </h1>
                            <p className="text-gray-400 text-sm mt-1">Curated tools for the modern creator.</p>
                        </div>
                        {selectedTag && (
                            <button onClick={() => setSelectedTag(null)} className="flex items-center gap-2 bg-indigo-900/50 text-indigo-200 px-4 py-2 rounded-full border border-indigo-500/30 text-sm hover:bg-indigo-900 transition">
                                Filter: #{selectedTag} <span className="text-indigo-400 font-bold">&times;</span>
                            </button>
                        )}
                    </header>

                    <main className="max-w-6xl mx-auto">
                        <div className="flex flex-col md:flex-row gap-6 mb-10">
                            {/* Tabs */}
                            <div className="flex bg-gray-800 p-1 rounded-lg">
                                {['apps', 'news', 'stories'].map(tab => (
                                    <button 
                                        key={tab}
                                        onClick={() => setActiveTab(tab)}
                                        className={`px-6 py-2 rounded-md font-medium capitalize transition-all ${activeTab === tab ? 'bg-gray-700 text-white shadow-md' : 'text-gray-400 hover:text-white'}`}
                                    >
                                        {tab}
                                    </button>
                                ))}
                            </div>
                            
                            {/* Search */}
                            <div className="flex-1">
                                <input
                                    type="text"
                                    placeholder="Search..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="w-full bg-gray-800 border border-gray-700 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition"
                                />
                            </div>
                        </div>

                        {/* Grid */}
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredContent.length > 0 ? (
                                filteredContent.map((item, idx) => <Card key={idx} item={item} />)
                            ) : (
                                <div className="col-span-full text-center py-20 bg-gray-800/50 rounded-2xl border border-dashed border-gray-700">
                                    <p className="text-gray-400 text-lg">No matches found.</p>
                                    <button onClick={clearFilters} className="mt-2 text-indigo-400 hover:underline">Clear all filters</button>
                                </div>
                            )}
                        </div>

                        {/* Newsletter */}
                        <Newsletter />
                    </main>
                    
                    <footer className="max-w-6xl mx-auto mt-12 py-8 text-center text-gray-600 text-sm border-t border-gray-800">
                        &copy; 2024 DigitalStack Digest. Built for Creators.
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
